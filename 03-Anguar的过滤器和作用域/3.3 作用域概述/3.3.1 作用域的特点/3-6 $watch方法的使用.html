<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="UTF-8">
    <title>$watch方法的使用</title>
    <style type="text/css">
        body {
            font-size: 12px;
        }
        div {
            margin: 8px 0;
        }
    </style>
</head>
<body>
    <div ng-controller="ctrl">
        <div>
            <input type="text" ng-model="name" placeholder="请输入姓名"/>
        </div>
        <div>累计变化次数：{{ count }}</div>
    </div>

    <script type="text/javascript" src="../../../JS/angular.min.js"></script>
    <script type="text/javascript">

        angular.module('app', []).controller('ctrl', ['$scope', function($scope) {
            $scope.count = 0;
            $scope.name = '';
            /*
                使用作用域中的$watch方法对$scope中的“name”属性进行监视
                当该属性值发生变化时，将$scope.count累计加1

                在Angular内部，每当我们对“ng-model”指令的“name”属性进行修改时
                其内部的$digest方法就会自动运行一次，检测已绑定的“name”属性是否
                与上一次$digest方法运行时获取的内容一致，若不一致，则执行$watch方法
                绑定的处理函数，将$scope.count累计加1
            * */
            $scope.$watch('name', function() {
               $scope.count++;
            });
        }]);

    </script>
</body>
</html>